{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/order.service\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/progress-spinner\";\nimport * as i7 from \"@angular/router\";\nfunction OrdersComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"mat-spinner\", 5);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrdersComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \" \");\n  }\n}\nfunction OrdersComponent_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"p\");\n    i0.ɵɵtext(2, \"You haven't placed any orders yet.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 10);\n    i0.ɵɵtext(4, \"Start Shopping\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction OrdersComponent_div_5_mat_card_2_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"\", item_r2.make, \" \", item_r2.model, \" (\", item_r2.year, \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", item_r2.quantity, \" x \", i0.ɵɵpipeBind1(5, 5, item_r2.price), \"\");\n  }\n}\nfunction OrdersComponent_div_5_mat_card_2_mat_card_actions_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card-actions\")(1, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function OrdersComponent_div_5_mat_card_2_mat_card_actions_27_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const order_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.cancelOrder(order_r4.id));\n    });\n    i0.ɵɵtext(2, \" Cancel Order \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction OrdersComponent_div_5_mat_card_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 11)(1, \"mat-card-header\")(2, \"mat-card-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-card-subtitle\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementStart(7, \"span\", 12);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"mat-card-content\")(10, \"div\", 13);\n    i0.ɵɵtemplate(11, OrdersComponent_div_5_mat_card_2_div_11_Template, 6, 7, \"div\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 15)(13, \"h4\");\n    i0.ɵɵtext(14, \"Shipping Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"p\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"p\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 16)(24, \"strong\");\n    i0.ɵɵtext(25);\n    i0.ɵɵpipe(26, \"currency\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(27, OrdersComponent_div_5_mat_card_2_mat_card_actions_27_Template, 3, 0, \"mat-card-actions\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Order #\", order_r4.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(6, 13, order_r4.orderDate, \"medium\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", order_r4.status.toLowerCase());\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", order_r4.status, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", order_r4.items);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(order_r4.shippingAddress.fullName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r4.shippingAddress.address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"\", order_r4.shippingAddress.city, \", \", order_r4.shippingAddress.state, \" \", order_r4.shippingAddress.zipCode, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Phone: \", order_r4.shippingAddress.phone, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Total Amount: \", i0.ɵɵpipeBind1(26, 16, order_r4.totalAmount), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", order_r4.status === \"Placed\" && order_r4.id);\n  }\n}\nfunction OrdersComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, OrdersComponent_div_5_div_1_Template, 5, 0, \"div\", 7)(2, OrdersComponent_div_5_mat_card_2_Template, 28, 18, \"mat-card\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.orders.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.orders);\n  }\n}\nexport class OrdersComponent {\n  constructor(orderService, authService) {\n    this.orderService = orderService;\n    this.authService = authService;\n    this.orders = [];\n    this.isLoading = false;\n    this.error = null;\n  }\n  ngOnInit() {\n    this.loadOrders();\n  }\n  loadOrders() {\n    this.isLoading = true;\n    this.error = null;\n    this.authService.user$.subscribe(user => {\n      if (!user) {\n        this.error = 'Please login to view orders';\n        this.isLoading = false;\n        return;\n      }\n      this.orderService.getUserOrders(user.userId.toString()).subscribe({\n        next: orders => {\n          this.orders = orders;\n          this.isLoading = false;\n        },\n        error: error => {\n          console.error('Error loading orders:', error);\n          this.error = 'Failed to load orders. Please try again.';\n          this.isLoading = false;\n        }\n      });\n    });\n  }\n  cancelOrder(orderId) {\n    this.orderService.cancelOrder(orderId).subscribe({\n      next: updatedOrder => {\n        this.orders = this.orders.map(order => order.id === updatedOrder.id ? updatedOrder : order);\n      },\n      error: error => {\n        console.error('Error cancelling order:', error);\n        this.error = 'Failed to cancel order. Please try again.';\n      }\n    });\n  }\n  static {\n    this.ɵfac = function OrdersComponent_Factory(t) {\n      return new (t || OrdersComponent)(i0.ɵɵdirectiveInject(i1.OrderService), i0.ɵɵdirectiveInject(i2.AuthService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: OrdersComponent,\n      selectors: [[\"app-orders\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 6,\n      vars: 3,\n      consts: [[1, \"orders-container\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"error-message\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"loading\"], [\"diameter\", \"40\"], [1, \"error-message\"], [\"class\", \"no-orders\", 4, \"ngIf\"], [\"class\", \"order-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"no-orders\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"routerLink\", \"/cars\"], [1, \"order-card\"], [1, \"status\", 3, \"ngClass\"], [1, \"items-list\"], [\"class\", \"order-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"shipping-info\"], [1, \"total-amount\"], [1, \"order-item\"], [\"mat-button\", \"\", \"color\", \"warn\", 3, \"click\"]],\n      template: function OrdersComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"My Orders\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, OrdersComponent_div_3_Template, 2, 0, \"div\", 1)(4, OrdersComponent_div_4_Template, 2, 1, \"div\", 2)(5, OrdersComponent_div_5_Template, 3, 2, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && !ctx.error);\n        }\n      },\n      dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, i3.CurrencyPipe, i3.DatePipe, MatCardModule, i4.MatCard, i4.MatCardActions, i4.MatCardContent, i4.MatCardHeader, i4.MatCardSubtitle, i4.MatCardTitle, MatButtonModule, i5.MatButton, MatProgressSpinnerModule, i6.MatProgressSpinner, RouterModule, i7.RouterLink],\n      styles: [\".orders-container[_ngcontent-%COMP%] {\\n  padding: 20px;\\n  max-width: 1200px;\\n  margin: 0 auto;\\n}\\n\\n.loading[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  padding: 20px;\\n}\\n\\n.error-message[_ngcontent-%COMP%] {\\n  color: red;\\n  text-align: center;\\n  padding: 20px;\\n}\\n\\n.no-orders[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 20px;\\n}\\n\\n.order-card[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n}\\n\\n.order-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-bottom: 10px;\\n}\\n\\n.shipping-info[_ngcontent-%COMP%] {\\n  margin: 20px 0;\\n  padding: 15px;\\n  background-color: #f5f5f5;\\n  border-radius: 4px;\\n}\\n\\n.status[_ngcontent-%COMP%] {\\n  padding: 4px 8px;\\n  border-radius: 4px;\\n  margin-left: 10px;\\n  font-size: 0.9em;\\n}\\n\\n.placed[_ngcontent-%COMP%] {\\n  background-color: #e3f2fd;\\n}\\n\\n.processing[_ngcontent-%COMP%] {\\n  background-color: #fff3e0;\\n}\\n\\n.shipped[_ngcontent-%COMP%] {\\n  background-color: #e8f5e9;\\n}\\n\\n.delivered[_ngcontent-%COMP%] {\\n  background-color: #e0f2f1;\\n}\\n\\n.cancelled[_ngcontent-%COMP%] {\\n  background-color: #ffebee;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9vcmRlcnMvb3JkZXJzLmNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8uLy4uLy4uLy4uLy4uL2FuZ3VsYXIlMjBwcm9qZWN0L2Nhci9mcm9udGVuZC9jYXItZWNvbW1lcmNlLWZyb250ZW5kL3NyYy9hcHAvY29tcG9uZW50cy9vcmRlcnMvb3JkZXJzLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNFLGFBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7QUNBTjs7QURHSTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLGFBQUE7QUNBTjs7QURHSTtFQUNFLFVBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7QUNBTjs7QURHSTtFQUNFLGtCQUFBO0VBQ0EsYUFBQTtBQ0FOOztBREdJO0VBQ0UsbUJBQUE7QUNBTjs7QURHSTtFQUNFLGFBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0FDQU47O0FER0k7RUFDRSxjQUFBO0VBQ0EsYUFBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7QUNBTjs7QURHSTtFQUNFLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0FDQU47O0FER0k7RUFBVSx5QkFBQTtBQ0NkOztBREFJO0VBQWMseUJBQUE7QUNJbEI7O0FESEk7RUFBVyx5QkFBQTtBQ09mOztBRE5JO0VBQWEseUJBQUE7QUNVakI7O0FEVEk7RUFBYSx5QkFBQTtBQ2FqQiIsInNvdXJjZXNDb250ZW50IjpbIlxuICAgIC5vcmRlcnMtY29udGFpbmVyIHtcbiAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICBtYXgtd2lkdGg6IDEyMDBweDtcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIH1cbiAgICBcbiAgICAubG9hZGluZyB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBwYWRkaW5nOiAyMHB4O1xuICAgIH1cbiAgICBcbiAgICAuZXJyb3ItbWVzc2FnZSB7XG4gICAgICBjb2xvcjogcmVkO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgcGFkZGluZzogMjBweDtcbiAgICB9XG4gICAgXG4gICAgLm5vLW9yZGVycyB7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBwYWRkaW5nOiAyMHB4O1xuICAgIH1cbiAgICBcbiAgICAub3JkZXItY2FyZCB7XG4gICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIH1cbiAgICBcbiAgICAub3JkZXItaXRlbSB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICB9XG4gICAgXG4gICAgLnNoaXBwaW5nLWluZm8ge1xuICAgICAgbWFyZ2luOiAyMHB4IDA7XG4gICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICB9XG4gICAgXG4gICAgLnN0YXR1cyB7XG4gICAgICBwYWRkaW5nOiA0cHggOHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgIH1cbiAgICBcbiAgICAucGxhY2VkIHsgYmFja2dyb3VuZC1jb2xvcjogI2UzZjJmZDsgfVxuICAgIC5wcm9jZXNzaW5nIHsgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjNlMDsgfVxuICAgIC5zaGlwcGVkIHsgYmFja2dyb3VuZC1jb2xvcjogI2U4ZjVlOTsgfVxuICAgIC5kZWxpdmVyZWQgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZTBmMmYxOyB9XG4gICAgLmNhbmNlbGxlZCB7IGJhY2tncm91bmQtY29sb3I6ICNmZmViZWU7IH1cbiAgIiwiLm9yZGVycy1jb250YWluZXIge1xuICBwYWRkaW5nOiAyMHB4O1xuICBtYXgtd2lkdGg6IDEyMDBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5cbi5sb2FkaW5nIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIHBhZGRpbmc6IDIwcHg7XG59XG5cbi5lcnJvci1tZXNzYWdlIHtcbiAgY29sb3I6IHJlZDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nOiAyMHB4O1xufVxuXG4ubm8tb3JkZXJzIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nOiAyMHB4O1xufVxuXG4ub3JkZXItY2FyZCB7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi5vcmRlci1pdGVtIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG4uc2hpcHBpbmctaW5mbyB7XG4gIG1hcmdpbjogMjBweCAwO1xuICBwYWRkaW5nOiAxNXB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG59XG5cbi5zdGF0dXMge1xuICBwYWRkaW5nOiA0cHggOHB4O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICBmb250LXNpemU6IDAuOWVtO1xufVxuXG4ucGxhY2VkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2UzZjJmZDtcbn1cblxuLnByb2Nlc3Npbmcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmM2UwO1xufVxuXG4uc2hpcHBlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlOGY1ZTk7XG59XG5cbi5kZWxpdmVyZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTBmMmYxO1xufVxuXG4uY2FuY2VsbGVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZWJlZTtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","MatCardModule","MatButtonModule","MatProgressSpinnerModule","RouterModule","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","error","ɵɵtextInterpolate3","item_r2","make","model","year","ɵɵtextInterpolate2","quantity","ɵɵpipeBind1","price","ɵɵlistener","OrdersComponent_div_5_mat_card_2_mat_card_actions_27_Template_button_click_1_listener","ɵɵrestoreView","_r3","order_r4","ɵɵnextContext","$implicit","ɵɵresetView","cancelOrder","id","ɵɵtemplate","OrdersComponent_div_5_mat_card_2_div_11_Template","OrdersComponent_div_5_mat_card_2_mat_card_actions_27_Template","ɵɵpipeBind2","orderDate","ɵɵproperty","status","toLowerCase","items","ɵɵtextInterpolate","shippingAddress","fullName","address","city","state","zipCode","phone","totalAmount","OrdersComponent_div_5_div_1_Template","OrdersComponent_div_5_mat_card_2_Template","orders","length","OrdersComponent","constructor","orderService","authService","isLoading","ngOnInit","loadOrders","user$","subscribe","user","getUserOrders","userId","toString","next","console","orderId","updatedOrder","map","order","ɵɵdirectiveInject","i1","OrderService","i2","AuthService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","OrdersComponent_Template","rf","ctx","OrdersComponent_div_3_Template","OrdersComponent_div_4_Template","OrdersComponent_div_5_Template","i3","NgClass","NgForOf","NgIf","CurrencyPipe","DatePipe","i4","MatCard","MatCardActions","MatCardContent","MatCardHeader","MatCardSubtitle","MatCardTitle","i5","MatButton","i6","MatProgressSpinner","i7","RouterLink","styles"],"sources":["C:\\angular project\\car\\frontend\\car-ecommerce-frontend\\src\\app\\components\\orders\\orders.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { RouterModule } from '@angular/router';\r\nimport { OrderService, Order } from '../../services/order.service';\r\nimport { AuthService } from '../../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-orders',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    MatCardModule,\r\n    MatButtonModule,\r\n    MatProgressSpinnerModule,\r\n    RouterModule\r\n  ],\r\n  template: `\r\n    <div class=\"orders-container\">\r\n      <h2>My Orders</h2>\r\n      \r\n      <div *ngIf=\"isLoading\" class=\"loading\">\r\n        <mat-spinner diameter=\"40\"></mat-spinner>\r\n      </div>\r\n\r\n      <div *ngIf=\"error\" class=\"error-message\">\r\n        {{ error }}\r\n      </div>\r\n\r\n      <div *ngIf=\"!isLoading && !error\">\r\n        <div *ngIf=\"orders.length === 0\" class=\"no-orders\">\r\n          <p>You haven't placed any orders yet.</p>\r\n          <button mat-raised-button color=\"primary\" routerLink=\"/cars\">Start Shopping</button>\r\n        </div>\r\n\r\n        <mat-card *ngFor=\"let order of orders\" class=\"order-card\">\r\n          <mat-card-header>\r\n            <mat-card-title>Order #{{ order.id }}</mat-card-title>\r\n            <mat-card-subtitle>\r\n              {{ order.orderDate | date:'medium' }}\r\n              <span class=\"status\" [ngClass]=\"order.status.toLowerCase()\">\r\n                {{ order.status }}\r\n              </span>\r\n            </mat-card-subtitle>\r\n          </mat-card-header>\r\n\r\n          <mat-card-content>\r\n            <div class=\"items-list\">\r\n              <div *ngFor=\"let item of order.items\" class=\"order-item\">\r\n                <span>{{ item.make }} {{ item.model }} ({{ item.year }})</span>\r\n                <span>{{ item.quantity }} x {{ item.price | currency }}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"shipping-info\">\r\n              <h4>Shipping Address</h4>\r\n              <p>{{ order.shippingAddress.fullName }}</p>\r\n              <p>{{ order.shippingAddress.address }}</p>\r\n              <p>{{ order.shippingAddress.city }}, {{ order.shippingAddress.state }} {{ order.shippingAddress.zipCode }}</p>\r\n              <p>Phone: {{ order.shippingAddress.phone }}</p>\r\n            </div>\r\n\r\n            <div class=\"total-amount\">\r\n              <strong>Total Amount: {{ order.totalAmount | currency }}</strong>\r\n            </div>\r\n          </mat-card-content>\r\n\r\n          <mat-card-actions *ngIf=\"order.status === 'Placed' && order.id\">\r\n            <button mat-button color=\"warn\" (click)=\"cancelOrder(order.id)\">\r\n              Cancel Order\r\n            </button>\r\n          </mat-card-actions>\r\n        </mat-card>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    .orders-container {\r\n      padding: 20px;\r\n      max-width: 1200px;\r\n      margin: 0 auto;\r\n    }\r\n    \r\n    .loading {\r\n      display: flex;\r\n      justify-content: center;\r\n      padding: 20px;\r\n    }\r\n    \r\n    .error-message {\r\n      color: red;\r\n      text-align: center;\r\n      padding: 20px;\r\n    }\r\n    \r\n    .no-orders {\r\n      text-align: center;\r\n      padding: 20px;\r\n    }\r\n    \r\n    .order-card {\r\n      margin-bottom: 20px;\r\n    }\r\n    \r\n    .order-item {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      margin-bottom: 10px;\r\n    }\r\n    \r\n    .shipping-info {\r\n      margin: 20px 0;\r\n      padding: 15px;\r\n      background-color: #f5f5f5;\r\n      border-radius: 4px;\r\n    }\r\n    \r\n    .status {\r\n      padding: 4px 8px;\r\n      border-radius: 4px;\r\n      margin-left: 10px;\r\n      font-size: 0.9em;\r\n    }\r\n    \r\n    .placed { background-color: #e3f2fd; }\r\n    .processing { background-color: #fff3e0; }\r\n    .shipped { background-color: #e8f5e9; }\r\n    .delivered { background-color: #e0f2f1; }\r\n    .cancelled { background-color: #ffebee; }\r\n  `]\r\n})\r\nexport class OrdersComponent implements OnInit {\r\n  orders: Order[] = [];\r\n  isLoading = false;\r\n  error: string | null = null;\r\n\r\n  constructor(\r\n    private orderService: OrderService,\r\n    private authService: AuthService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadOrders();\r\n  }\r\n\r\n  loadOrders(): void {\r\n    this.isLoading = true;\r\n    this.error = null;\r\n\r\n    this.authService.user$.subscribe(user => {\r\n      if (!user) {\r\n        this.error = 'Please login to view orders';\r\n        this.isLoading = false;\r\n        return;\r\n      }\r\n\r\n      this.orderService.getUserOrders(user.userId.toString()).subscribe({\r\n        next: (orders) => {\r\n          this.orders = orders;\r\n          this.isLoading = false;\r\n        },\r\n        error: (error) => {\r\n          console.error('Error loading orders:', error);\r\n          this.error = 'Failed to load orders. Please try again.';\r\n          this.isLoading = false;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  cancelOrder(orderId: string): void {\r\n    this.orderService.cancelOrder(orderId).subscribe({\r\n      next: (updatedOrder) => {\r\n        this.orders = this.orders.map(order => \r\n          order.id === updatedOrder.id ? updatedOrder : order\r\n        );\r\n      },\r\n      error: (error) => {\r\n        console.error('Error cancelling order:', error);\r\n        this.error = 'Failed to cancel order. Please try again.';\r\n      }\r\n    });\r\n  }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}