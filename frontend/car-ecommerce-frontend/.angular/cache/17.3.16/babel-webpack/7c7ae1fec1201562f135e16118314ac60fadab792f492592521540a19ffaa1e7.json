{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { RouterModule } from '@angular/router';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/order.service\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/card\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/progress-spinner\";\nimport * as i8 from \"@angular/router\";\nfunction OrdersComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"mat-spinner\", 5);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrdersComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \" \");\n  }\n}\nfunction OrdersComponent_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"p\");\n    i0.ɵɵtext(2, \"You haven't placed any orders yet.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 10);\n    i0.ɵɵtext(4, \"Start Shopping\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction OrdersComponent_div_5_mat_card_2_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21)(2, \"h4\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 22);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementStart(7, \"span\", 23);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate3(\"\", item_r2.make, \" \", item_r2.model, \" (\", item_r2.year, \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", item_r2.quantity, \" x \", i0.ɵɵpipeBind1(6, 6, item_r2.price), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Total: \", i0.ɵɵpipeBind1(9, 8, item_r2.quantity * item_r2.price), \"\");\n  }\n}\nfunction OrdersComponent_div_5_mat_card_2_mat_card_actions_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card-actions\")(1, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function OrdersComponent_div_5_mat_card_2_mat_card_actions_44_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const order_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.cancelOrder(order_r4.id));\n    });\n    i0.ɵɵtext(2, \" Cancel Order \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction OrdersComponent_div_5_mat_card_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 11)(1, \"mat-card-header\")(2, \"mat-card-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"span\", 12);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"mat-card-subtitle\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"mat-card-content\")(10, \"div\", 13)(11, \"div\", 14)(12, \"h3\");\n    i0.ɵɵtext(13, \"Order Items\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, OrdersComponent_div_5_mat_card_2_div_14_Template, 10, 10, \"div\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 16)(16, \"h3\");\n    i0.ɵɵtext(17, \"Shipping Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\")(19, \"strong\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"p\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"p\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"p\")(26, \"strong\");\n    i0.ɵɵtext(27, \"Phone:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(29, \"div\", 17)(30, \"div\", 18)(31, \"strong\");\n    i0.ɵɵtext(32);\n    i0.ɵɵpipe(33, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"div\", 19)(35, \"p\")(36, \"strong\");\n    i0.ɵɵtext(37, \"Status:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"p\")(40, \"strong\");\n    i0.ɵɵtext(41, \"Order Date:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(42);\n    i0.ɵɵpipe(43, \"date\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(44, OrdersComponent_div_5_mat_card_2_mat_card_actions_44_Template, 3, 0, \"mat-card-actions\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Order #\", order_r4.id, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", order_r4.status.toLowerCase());\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", order_r4.status, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Ordered on \", i0.ɵɵpipeBind2(8, 15, order_r4.orderDate, \"medium\"), \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", order_r4.items);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(order_r4.shippingAddress.fullName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r4.shippingAddress.address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"\", order_r4.shippingAddress.city, \", \", order_r4.shippingAddress.state, \" \", order_r4.shippingAddress.zipCode, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", order_r4.shippingAddress.phone, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Order Total: \", i0.ɵɵpipeBind1(33, 18, order_r4.totalAmount), \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", order_r4.status, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(43, 20, order_r4.orderDate, \"medium\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", order_r4.status === \"Placed\" && order_r4.id);\n  }\n}\nfunction OrdersComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, OrdersComponent_div_5_div_1_Template, 5, 0, \"div\", 7)(2, OrdersComponent_div_5_mat_card_2_Template, 45, 23, \"mat-card\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.orders.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.orders);\n  }\n}\nexport class OrdersComponent {\n  constructor(orderService, authService, snackBar) {\n    this.orderService = orderService;\n    this.authService = authService;\n    this.snackBar = snackBar;\n    this.orders = [];\n    this.isLoading = false;\n    this.error = null;\n    this.destroy$ = new Subject();\n  }\n  ngOnInit() {\n    this.loadOrders();\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  loadOrders() {\n    this.isLoading = true;\n    this.error = null;\n    this.authService.user$.pipe(takeUntil(this.destroy$)).subscribe({\n      next: user => {\n        if (!user) {\n          this.error = 'Please login to view orders';\n          this.isLoading = false;\n          return;\n        }\n        this.orderService.getUserOrders(user.userId.toString()).subscribe({\n          next: orders => {\n            console.log('Loaded orders:', orders);\n            this.orders = orders.sort((a, b) => new Date(b.orderDate).getTime() - new Date(a.orderDate).getTime());\n            this.isLoading = false;\n          },\n          error: error => {\n            console.error('Error loading orders:', error);\n            this.error = 'Failed to load orders. Please try again.';\n            this.isLoading = false;\n            this.snackBar.open('Failed to load orders. Please try again.', 'Close', {\n              duration: 5000\n            });\n          }\n        });\n      },\n      error: error => {\n        console.error('Error getting user:', error);\n        this.error = 'Failed to authenticate user.';\n        this.isLoading = false;\n        this.snackBar.open('Failed to authenticate user.', 'Close', {\n          duration: 5000\n        });\n      }\n    });\n  }\n  cancelOrder(orderId) {\n    this.orderService.cancelOrder(orderId).subscribe({\n      next: updatedOrder => {\n        this.orders = this.orders.map(order => order.id === updatedOrder.id ? updatedOrder : order);\n        this.snackBar.open('Order cancelled successfully', 'Close', {\n          duration: 3000\n        });\n      },\n      error: error => {\n        console.error('Error cancelling order:', error);\n        this.error = 'Failed to cancel order. Please try again.';\n        this.snackBar.open('Failed to cancel order. Please try again.', 'Close', {\n          duration: 5000\n        });\n      }\n    });\n  }\n  static {\n    this.ɵfac = function OrdersComponent_Factory(t) {\n      return new (t || OrdersComponent)(i0.ɵɵdirectiveInject(i1.OrderService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: OrdersComponent,\n      selectors: [[\"app-orders\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 6,\n      vars: 3,\n      consts: [[1, \"orders-container\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"error-message\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"loading\"], [\"diameter\", \"40\"], [1, \"error-message\"], [\"class\", \"no-orders\", 4, \"ngIf\"], [\"class\", \"order-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"no-orders\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"routerLink\", \"/cars\"], [1, \"order-card\"], [1, \"status\", 3, \"ngClass\"], [1, \"order-details\"], [1, \"items-list\"], [\"class\", \"order-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"shipping-info\"], [1, \"order-summary\"], [1, \"total-amount\"], [1, \"order-status\"], [1, \"order-item\"], [1, \"item-details\"], [1, \"item-price\"], [1, \"item-total\"], [\"mat-button\", \"\", \"color\", \"warn\", 3, \"click\"]],\n      template: function OrdersComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"My Orders\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, OrdersComponent_div_3_Template, 2, 0, \"div\", 1)(4, OrdersComponent_div_4_Template, 2, 1, \"div\", 2)(5, OrdersComponent_div_5_Template, 3, 2, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && !ctx.error);\n        }\n      },\n      dependencies: [CommonModule, i4.NgClass, i4.NgForOf, i4.NgIf, i4.CurrencyPipe, i4.DatePipe, MatCardModule, i5.MatCard, i5.MatCardActions, i5.MatCardContent, i5.MatCardHeader, i5.MatCardSubtitle, i5.MatCardTitle, MatButtonModule, i6.MatButton, MatProgressSpinnerModule, i7.MatProgressSpinner, RouterModule, i8.RouterLink, MatSnackBarModule],\n      styles: [\".orders-container[_ngcontent-%COMP%] {\\n  padding: 20px;\\n  max-width: 1200px;\\n  margin: 0 auto;\\n}\\n\\n.loading[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  padding: 20px;\\n}\\n\\n.error-message[_ngcontent-%COMP%] {\\n  color: red;\\n  text-align: center;\\n  padding: 20px;\\n}\\n\\n.no-orders[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 20px;\\n}\\n\\n.order-card[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n  padding: 20px;\\n}\\n\\n.order-details[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: 2fr 1fr;\\n  gap: 20px;\\n  margin: 20px 0;\\n}\\n\\n.items-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin-bottom: 15px;\\n  color: #333;\\n}\\n\\n.order-item[_ngcontent-%COMP%] {\\n  background-color: #f8f9fa;\\n  padding: 15px;\\n  border-radius: 4px;\\n  margin-bottom: 10px;\\n}\\n.order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  margin: 0 0 8px 0;\\n  color: #2c3e50;\\n}\\n.order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin: 0;\\n  color: #666;\\n}\\n.order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]   .item-total[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n  color: #0066cc;\\n}\\n\\n.shipping-info[_ngcontent-%COMP%] {\\n  background-color: #f8f9fa;\\n  padding: 20px;\\n  border-radius: 4px;\\n}\\n.shipping-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin-bottom: 15px;\\n  color: #333;\\n}\\n.shipping-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 8px 0;\\n  color: #666;\\n}\\n\\n.order-summary[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: flex-start;\\n  margin-top: 20px;\\n  padding-top: 20px;\\n  border-top: 1px solid #eee;\\n}\\n.order-summary[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%] {\\n  font-size: 1.2em;\\n  color: #0066cc;\\n}\\n.order-summary[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%] {\\n  text-align: right;\\n}\\n.order-summary[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 5px 0;\\n  color: #666;\\n}\\n\\n.status[_ngcontent-%COMP%] {\\n  padding: 4px 8px;\\n  border-radius: 4px;\\n  margin-left: 10px;\\n  font-size: 0.9em;\\n  float: right;\\n}\\n\\n.placed[_ngcontent-%COMP%] {\\n  background-color: #e3f2fd;\\n  color: #0d47a1;\\n}\\n\\n.processing[_ngcontent-%COMP%] {\\n  background-color: #fff3e0;\\n  color: #e65100;\\n}\\n\\n.shipped[_ngcontent-%COMP%] {\\n  background-color: #e8f5e9;\\n  color: #1b5e20;\\n}\\n\\n.delivered[_ngcontent-%COMP%] {\\n  background-color: #e0f2f1;\\n  color: #004d40;\\n}\\n\\n.cancelled[_ngcontent-%COMP%] {\\n  background-color: #ffebee;\\n  color: #b71c1c;\\n}\\n\\nmat-card-actions[_ngcontent-%COMP%] {\\n  padding: 16px;\\n  border-top: 1px solid #eee;\\n  margin-top: 16px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9vcmRlcnMvb3JkZXJzLmNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8uLy4uLy4uLy4uLy4uL2FuZ3VsYXIlMjBwcm9qZWN0L2Nhci9mcm9udGVuZC9jYXItZWNvbW1lcmNlLWZyb250ZW5kL3NyYy9hcHAvY29tcG9uZW50cy9vcmRlcnMvb3JkZXJzLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNFLGFBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7QUNBTjs7QURHSTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLGFBQUE7QUNBTjs7QURHSTtFQUNFLFVBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7QUNBTjs7QURHSTtFQUNFLGtCQUFBO0VBQ0EsYUFBQTtBQ0FOOztBREdJO0VBQ0UsbUJBQUE7RUFDQSxhQUFBO0FDQU47O0FER0k7RUFDRSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxTQUFBO0VBQ0EsY0FBQTtBQ0FOOztBRElNO0VBQ0UsbUJBQUE7RUFDQSxXQUFBO0FDRFI7O0FES0k7RUFDRSx5QkFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDRk47QURLUTtFQUNFLGlCQUFBO0VBQ0EsY0FBQTtBQ0hWO0FETVE7RUFDRSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0FDSlY7QURNVTtFQUNFLGdCQUFBO0VBQ0EsY0FBQTtBQ0paOztBRFVJO0VBQ0UseUJBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7QUNQTjtBRFNNO0VBQ0UsbUJBQUE7RUFDQSxXQUFBO0FDUFI7QURVTTtFQUNFLGFBQUE7RUFDQSxXQUFBO0FDUlI7O0FEWUk7RUFDRSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSx1QkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSwwQkFBQTtBQ1ROO0FEV007RUFDRSxnQkFBQTtFQUNBLGNBQUE7QUNUUjtBRFlNO0VBQ0UsaUJBQUE7QUNWUjtBRFlRO0VBQ0UsYUFBQTtFQUNBLFdBQUE7QUNWVjs7QURlSTtFQUNFLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtBQ1pOOztBRGVJO0VBQ0UseUJBQUE7RUFDQSxjQUFBO0FDWk47O0FEZUk7RUFDRSx5QkFBQTtFQUNBLGNBQUE7QUNaTjs7QURlSTtFQUNFLHlCQUFBO0VBQ0EsY0FBQTtBQ1pOOztBRGVJO0VBQ0UseUJBQUE7RUFDQSxjQUFBO0FDWk47O0FEZUk7RUFDRSx5QkFBQTtFQUNBLGNBQUE7QUNaTjs7QURlSTtFQUNFLGFBQUE7RUFDQSwwQkFBQTtFQUNBLGdCQUFBO0FDWk4iLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAub3JkZXJzLWNvbnRhaW5lciB7XG4gICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgbWF4LXdpZHRoOiAxMjAwcHg7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICB9XG4gICAgXG4gICAgLmxvYWRpbmcge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgcGFkZGluZzogMjBweDtcbiAgICB9XG4gICAgXG4gICAgLmVycm9yLW1lc3NhZ2Uge1xuICAgICAgY29sb3I6IHJlZDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgfVxuICAgIFxuICAgIC5uby1vcmRlcnMge1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgcGFkZGluZzogMjBweDtcbiAgICB9XG4gICAgXG4gICAgLm9yZGVyLWNhcmQge1xuICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgfVxuXG4gICAgLm9yZGVyLWRldGFpbHMge1xuICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMmZyIDFmcjtcbiAgICAgIGdhcDogMjBweDtcbiAgICAgIG1hcmdpbjogMjBweCAwO1xuICAgIH1cbiAgICBcbiAgICAuaXRlbXMtbGlzdCB7XG4gICAgICBoMyB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gICAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAub3JkZXItaXRlbSB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xuICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG5cbiAgICAgIC5pdGVtLWRldGFpbHMge1xuICAgICAgICBoNCB7XG4gICAgICAgICAgbWFyZ2luOiAwIDAgOHB4IDA7XG4gICAgICAgICAgY29sb3I6ICMyYzNlNTA7XG4gICAgICAgIH1cblxuICAgICAgICAuaXRlbS1wcmljZSB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgY29sb3I6ICM2NjY7XG5cbiAgICAgICAgICAuaXRlbS10b3RhbCB7XG4gICAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICAgICAgY29sb3I6ICMwMDY2Y2M7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC5zaGlwcGluZy1pbmZvIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7XG4gICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuXG4gICAgICBoMyB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gICAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgfVxuXG4gICAgICBwIHtcbiAgICAgICAgbWFyZ2luOiA4cHggMDtcbiAgICAgICAgY29sb3I6ICM2NjY7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLm9yZGVyLXN1bW1hcnkge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICAgIHBhZGRpbmctdG9wOiAyMHB4O1xuICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7XG5cbiAgICAgIC50b3RhbC1hbW91bnQge1xuICAgICAgICBmb250LXNpemU6IDEuMmVtO1xuICAgICAgICBjb2xvcjogIzAwNjZjYztcbiAgICAgIH1cblxuICAgICAgLm9yZGVyLXN0YXR1cyB7XG4gICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgICAgICBcbiAgICAgICAgcCB7XG4gICAgICAgICAgbWFyZ2luOiA1cHggMDtcbiAgICAgICAgICBjb2xvcjogIzY2NjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAuc3RhdHVzIHtcbiAgICAgIHBhZGRpbmc6IDRweCA4cHg7XG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgfVxuICAgIFxuICAgIC5wbGFjZWQgeyBcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlM2YyZmQ7IFxuICAgICAgY29sb3I6ICMwZDQ3YTE7XG4gICAgfVxuICAgIFxuICAgIC5wcm9jZXNzaW5nIHsgXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmM2UwOyBcbiAgICAgIGNvbG9yOiAjZTY1MTAwO1xuICAgIH1cbiAgICBcbiAgICAuc2hpcHBlZCB7IFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2U4ZjVlOTsgXG4gICAgICBjb2xvcjogIzFiNWUyMDtcbiAgICB9XG4gICAgXG4gICAgLmRlbGl2ZXJlZCB7IFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2UwZjJmMTsgXG4gICAgICBjb2xvcjogIzAwNGQ0MDtcbiAgICB9XG4gICAgXG4gICAgLmNhbmNlbGxlZCB7IFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZWJlZTsgXG4gICAgICBjb2xvcjogI2I3MWMxYztcbiAgICB9XG5cbiAgICBtYXQtY2FyZC1hY3Rpb25zIHtcbiAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTtcbiAgICAgIG1hcmdpbi10b3A6IDE2cHg7XG4gICAgfVxuICAiLCIub3JkZXJzLWNvbnRhaW5lciB7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIG1heC13aWR0aDogMTIwMHB4O1xuICBtYXJnaW46IDAgYXV0bztcbn1cblxuLmxvYWRpbmcge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgcGFkZGluZzogMjBweDtcbn1cblxuLmVycm9yLW1lc3NhZ2Uge1xuICBjb2xvcjogcmVkO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDIwcHg7XG59XG5cbi5uby1vcmRlcnMge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDIwcHg7XG59XG5cbi5vcmRlci1jYXJkIHtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgcGFkZGluZzogMjBweDtcbn1cblxuLm9yZGVyLWRldGFpbHMge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDJmciAxZnI7XG4gIGdhcDogMjBweDtcbiAgbWFyZ2luOiAyMHB4IDA7XG59XG5cbi5pdGVtcy1saXN0IGgzIHtcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgY29sb3I6ICMzMzM7XG59XG5cbi5vcmRlci1pdGVtIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcbiAgcGFkZGluZzogMTVweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuLm9yZGVyLWl0ZW0gLml0ZW0tZGV0YWlscyBoNCB7XG4gIG1hcmdpbjogMCAwIDhweCAwO1xuICBjb2xvcjogIzJjM2U1MDtcbn1cbi5vcmRlci1pdGVtIC5pdGVtLWRldGFpbHMgLml0ZW0tcHJpY2Uge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbjogMDtcbiAgY29sb3I6ICM2NjY7XG59XG4ub3JkZXItaXRlbSAuaXRlbS1kZXRhaWxzIC5pdGVtLXByaWNlIC5pdGVtLXRvdGFsIHtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgY29sb3I6ICMwMDY2Y2M7XG59XG5cbi5zaGlwcGluZy1pbmZvIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcbiAgcGFkZGluZzogMjBweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xufVxuLnNoaXBwaW5nLWluZm8gaDMge1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xuICBjb2xvcjogIzMzMztcbn1cbi5zaGlwcGluZy1pbmZvIHAge1xuICBtYXJnaW46IDhweCAwO1xuICBjb2xvcjogIzY2Njtcbn1cblxuLm9yZGVyLXN1bW1hcnkge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICBtYXJnaW4tdG9wOiAyMHB4O1xuICBwYWRkaW5nLXRvcDogMjBweDtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7XG59XG4ub3JkZXItc3VtbWFyeSAudG90YWwtYW1vdW50IHtcbiAgZm9udC1zaXplOiAxLjJlbTtcbiAgY29sb3I6ICMwMDY2Y2M7XG59XG4ub3JkZXItc3VtbWFyeSAub3JkZXItc3RhdHVzIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG4ub3JkZXItc3VtbWFyeSAub3JkZXItc3RhdHVzIHAge1xuICBtYXJnaW46IDVweCAwO1xuICBjb2xvcjogIzY2Njtcbn1cblxuLnN0YXR1cyB7XG4gIHBhZGRpbmc6IDRweCA4cHg7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIGZvbnQtc2l6ZTogMC45ZW07XG4gIGZsb2F0OiByaWdodDtcbn1cblxuLnBsYWNlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlM2YyZmQ7XG4gIGNvbG9yOiAjMGQ0N2ExO1xufVxuXG4ucHJvY2Vzc2luZyB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmYzZTA7XG4gIGNvbG9yOiAjZTY1MTAwO1xufVxuXG4uc2hpcHBlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlOGY1ZTk7XG4gIGNvbG9yOiAjMWI1ZTIwO1xufVxuXG4uZGVsaXZlcmVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2UwZjJmMTtcbiAgY29sb3I6ICMwMDRkNDA7XG59XG5cbi5jYW5jZWxsZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlYmVlO1xuICBjb2xvcjogI2I3MWMxYztcbn1cblxubWF0LWNhcmQtYWN0aW9ucyB7XG4gIHBhZGRpbmc6IDE2cHg7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlO1xuICBtYXJnaW4tdG9wOiAxNnB4O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","MatCardModule","MatButtonModule","MatProgressSpinnerModule","RouterModule","MatSnackBarModule","takeUntil","Subject","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","error","ɵɵtextInterpolate3","item_r2","make","model","year","ɵɵtextInterpolate2","quantity","ɵɵpipeBind1","price","ɵɵlistener","OrdersComponent_div_5_mat_card_2_mat_card_actions_44_Template_button_click_1_listener","ɵɵrestoreView","_r3","order_r4","ɵɵnextContext","$implicit","ɵɵresetView","cancelOrder","id","ɵɵtemplate","OrdersComponent_div_5_mat_card_2_div_14_Template","OrdersComponent_div_5_mat_card_2_mat_card_actions_44_Template","ɵɵproperty","status","toLowerCase","ɵɵpipeBind2","orderDate","items","ɵɵtextInterpolate","shippingAddress","fullName","address","city","state","zipCode","phone","totalAmount","OrdersComponent_div_5_div_1_Template","OrdersComponent_div_5_mat_card_2_Template","orders","length","OrdersComponent","constructor","orderService","authService","snackBar","isLoading","destroy$","ngOnInit","loadOrders","ngOnDestroy","next","complete","user$","pipe","subscribe","user","getUserOrders","userId","toString","console","log","sort","a","b","Date","getTime","open","duration","orderId","updatedOrder","map","order","ɵɵdirectiveInject","i1","OrderService","i2","AuthService","i3","MatSnackBar","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","OrdersComponent_Template","rf","ctx","OrdersComponent_div_3_Template","OrdersComponent_div_4_Template","OrdersComponent_div_5_Template","i4","NgClass","NgForOf","NgIf","CurrencyPipe","DatePipe","i5","MatCard","MatCardActions","MatCardContent","MatCardHeader","MatCardSubtitle","MatCardTitle","i6","MatButton","i7","MatProgressSpinner","i8","RouterLink","styles"],"sources":["C:\\angular project\\car\\frontend\\car-ecommerce-frontend\\src\\app\\components\\orders\\orders.component.ts"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { RouterModule } from '@angular/router';\r\nimport { OrderService, Order } from '../../services/order.service';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-orders',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    MatCardModule,\r\n    MatButtonModule,\r\n    MatProgressSpinnerModule,\r\n    RouterModule,\r\n    MatSnackBarModule\r\n  ],\r\n  template: `\r\n    <div class=\"orders-container\">\r\n      <h2>My Orders</h2>\r\n      \r\n      <div *ngIf=\"isLoading\" class=\"loading\">\r\n        <mat-spinner diameter=\"40\"></mat-spinner>\r\n      </div>\r\n\r\n      <div *ngIf=\"error\" class=\"error-message\">\r\n        {{ error }}\r\n      </div>\r\n\r\n      <div *ngIf=\"!isLoading && !error\">\r\n        <div *ngIf=\"orders.length === 0\" class=\"no-orders\">\r\n          <p>You haven't placed any orders yet.</p>\r\n          <button mat-raised-button color=\"primary\" routerLink=\"/cars\">Start Shopping</button>\r\n        </div>\r\n\r\n        <mat-card *ngFor=\"let order of orders\" class=\"order-card\">\r\n          <mat-card-header>\r\n            <mat-card-title>\r\n              Order #{{ order.id }}\r\n              <span class=\"status\" [ngClass]=\"order.status.toLowerCase()\">\r\n                {{ order.status }}\r\n              </span>\r\n            </mat-card-title>\r\n            <mat-card-subtitle>\r\n              Ordered on {{ order.orderDate | date:'medium' }}\r\n            </mat-card-subtitle>\r\n          </mat-card-header>\r\n\r\n          <mat-card-content>\r\n            <div class=\"order-details\">\r\n              <div class=\"items-list\">\r\n                <h3>Order Items</h3>\r\n                <div *ngFor=\"let item of order.items\" class=\"order-item\">\r\n                  <div class=\"item-details\">\r\n                    <h4>{{ item.make }} {{ item.model }} ({{ item.year }})</h4>\r\n                    <p class=\"item-price\">\r\n                      {{ item.quantity }} x {{ item.price | currency }}\r\n                      <span class=\"item-total\">Total: {{ item.quantity * item.price | currency }}</span>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"shipping-info\">\r\n                <h3>Shipping Address</h3>\r\n                <p><strong>{{ order.shippingAddress.fullName }}</strong></p>\r\n                <p>{{ order.shippingAddress.address }}</p>\r\n                <p>{{ order.shippingAddress.city }}, {{ order.shippingAddress.state }} {{ order.shippingAddress.zipCode }}</p>\r\n                <p><strong>Phone:</strong> {{ order.shippingAddress.phone }}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"order-summary\">\r\n              <div class=\"total-amount\">\r\n                <strong>Order Total: {{ order.totalAmount | currency }}</strong>\r\n              </div>\r\n              <div class=\"order-status\">\r\n                <p><strong>Status:</strong> {{ order.status }}</p>\r\n                <p><strong>Order Date:</strong> {{ order.orderDate | date:'medium' }}</p>\r\n              </div>\r\n            </div>\r\n          </mat-card-content>\r\n\r\n          <mat-card-actions *ngIf=\"order.status === 'Placed' && order.id\">\r\n            <button mat-button color=\"warn\" (click)=\"cancelOrder(order.id)\">\r\n              Cancel Order\r\n            </button>\r\n          </mat-card-actions>\r\n        </mat-card>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    .orders-container {\r\n      padding: 20px;\r\n      max-width: 1200px;\r\n      margin: 0 auto;\r\n    }\r\n    \r\n    .loading {\r\n      display: flex;\r\n      justify-content: center;\r\n      padding: 20px;\r\n    }\r\n    \r\n    .error-message {\r\n      color: red;\r\n      text-align: center;\r\n      padding: 20px;\r\n    }\r\n    \r\n    .no-orders {\r\n      text-align: center;\r\n      padding: 20px;\r\n    }\r\n    \r\n    .order-card {\r\n      margin-bottom: 20px;\r\n      padding: 20px;\r\n    }\r\n\r\n    .order-details {\r\n      display: grid;\r\n      grid-template-columns: 2fr 1fr;\r\n      gap: 20px;\r\n      margin: 20px 0;\r\n    }\r\n    \r\n    .items-list {\r\n      h3 {\r\n        margin-bottom: 15px;\r\n        color: #333;\r\n      }\r\n    }\r\n    \r\n    .order-item {\r\n      background-color: #f8f9fa;\r\n      padding: 15px;\r\n      border-radius: 4px;\r\n      margin-bottom: 10px;\r\n\r\n      .item-details {\r\n        h4 {\r\n          margin: 0 0 8px 0;\r\n          color: #2c3e50;\r\n        }\r\n\r\n        .item-price {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin: 0;\r\n          color: #666;\r\n\r\n          .item-total {\r\n            font-weight: 500;\r\n            color: #0066cc;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    .shipping-info {\r\n      background-color: #f8f9fa;\r\n      padding: 20px;\r\n      border-radius: 4px;\r\n\r\n      h3 {\r\n        margin-bottom: 15px;\r\n        color: #333;\r\n      }\r\n\r\n      p {\r\n        margin: 8px 0;\r\n        color: #666;\r\n      }\r\n    }\r\n\r\n    .order-summary {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: flex-start;\r\n      margin-top: 20px;\r\n      padding-top: 20px;\r\n      border-top: 1px solid #eee;\r\n\r\n      .total-amount {\r\n        font-size: 1.2em;\r\n        color: #0066cc;\r\n      }\r\n\r\n      .order-status {\r\n        text-align: right;\r\n        \r\n        p {\r\n          margin: 5px 0;\r\n          color: #666;\r\n        }\r\n      }\r\n    }\r\n    \r\n    .status {\r\n      padding: 4px 8px;\r\n      border-radius: 4px;\r\n      margin-left: 10px;\r\n      font-size: 0.9em;\r\n      float: right;\r\n    }\r\n    \r\n    .placed { \r\n      background-color: #e3f2fd; \r\n      color: #0d47a1;\r\n    }\r\n    \r\n    .processing { \r\n      background-color: #fff3e0; \r\n      color: #e65100;\r\n    }\r\n    \r\n    .shipped { \r\n      background-color: #e8f5e9; \r\n      color: #1b5e20;\r\n    }\r\n    \r\n    .delivered { \r\n      background-color: #e0f2f1; \r\n      color: #004d40;\r\n    }\r\n    \r\n    .cancelled { \r\n      background-color: #ffebee; \r\n      color: #b71c1c;\r\n    }\r\n\r\n    mat-card-actions {\r\n      padding: 16px;\r\n      border-top: 1px solid #eee;\r\n      margin-top: 16px;\r\n    }\r\n  `]\r\n})\r\nexport class OrdersComponent implements OnInit, OnDestroy {\r\n  orders: Order[] = [];\r\n  isLoading = false;\r\n  error: string | null = null;\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    private orderService: OrderService,\r\n    private authService: AuthService,\r\n    private snackBar: MatSnackBar\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadOrders();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  loadOrders(): void {\r\n    this.isLoading = true;\r\n    this.error = null;\r\n\r\n    this.authService.user$.pipe(\r\n      takeUntil(this.destroy$)\r\n    ).subscribe({\r\n      next: (user) => {\r\n        if (!user) {\r\n          this.error = 'Please login to view orders';\r\n          this.isLoading = false;\r\n          return;\r\n        }\r\n\r\n        this.orderService.getUserOrders(user.userId.toString()).subscribe({\r\n          next: (orders) => {\r\n            console.log('Loaded orders:', orders);\r\n            this.orders = orders.sort((a, b) => \r\n              new Date(b.orderDate).getTime() - new Date(a.orderDate).getTime()\r\n            );\r\n            this.isLoading = false;\r\n          },\r\n          error: (error) => {\r\n            console.error('Error loading orders:', error);\r\n            this.error = 'Failed to load orders. Please try again.';\r\n            this.isLoading = false;\r\n            this.snackBar.open('Failed to load orders. Please try again.', 'Close', {\r\n              duration: 5000\r\n            });\r\n          }\r\n        });\r\n      },\r\n      error: (error) => {\r\n        console.error('Error getting user:', error);\r\n        this.error = 'Failed to authenticate user.';\r\n        this.isLoading = false;\r\n        this.snackBar.open('Failed to authenticate user.', 'Close', {\r\n          duration: 5000\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  cancelOrder(orderId: string): void {\r\n    this.orderService.cancelOrder(orderId).subscribe({\r\n      next: (updatedOrder) => {\r\n        this.orders = this.orders.map(order => \r\n          order.id === updatedOrder.id ? updatedOrder : order\r\n        );\r\n        this.snackBar.open('Order cancelled successfully', 'Close', {\r\n          duration: 3000\r\n        });\r\n      },\r\n      error: (error) => {\r\n        console.error('Error cancelling order:', error);\r\n        this.error = 'Failed to cancel order. Please try again.';\r\n        this.snackBar.open('Failed to cancel order. Please try again.', 'Close', {\r\n          duration: 5000\r\n        });\r\n      }\r\n    });\r\n  }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}