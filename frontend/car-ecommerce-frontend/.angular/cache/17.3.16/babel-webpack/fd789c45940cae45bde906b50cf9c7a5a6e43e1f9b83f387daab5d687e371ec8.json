{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/car.service\";\nimport * as i3 from \"../../services/cart.service\";\nimport * as i4 from \"../../services/auth.service\";\nimport * as i5 from \"@angular/common\";\nfunction CarDetailComponent_div_0_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CarDetailComponent_div_0_div_10_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.decreaseQuantity());\n    });\n    i0.ɵɵtext(2, \"-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CarDetailComponent_div_0_div_10_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.increaseQuantity());\n    });\n    i0.ɵɵtext(6, \"+\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.quantity);\n  }\n}\nfunction CarDetailComponent_div_0_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CarDetailComponent_div_0_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.addToCart());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.isAddingToCart || !ctx_r1.authService.isLoggedIn());\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.isAddingToCart ? \"Adding...\" : \"Add to Cart\", \" \");\n  }\n}\nfunction CarDetailComponent_div_0_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function CarDetailComponent_div_0_ng_template_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.navigateToLogin());\n    });\n    i0.ɵɵtext(1, \" Login to Add to Cart \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CarDetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"img\", 3);\n    i0.ɵɵlistener(\"error\", function CarDetailComponent_div_0_Template_img_error_3_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onImageError($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 4)(5, \"p\", 5);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 6);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, CarDetailComponent_div_0_div_10_Template, 7, 1, \"div\", 7)(11, CarDetailComponent_div_0_button_11_Template, 2, 2, \"button\", 8)(12, CarDetailComponent_div_0_ng_template_12_Template, 2, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const loginPrompt_r6 = i0.ɵɵreference(13);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r1.car.brand, \" \", ctx_r1.car.model, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", ctx_r1.car.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r1.car.brand + \" \" + ctx_r1.car.model);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.car.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(9, 9, ctx_r1.car.price, \"1.2-2\"), \" USD\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.authService.isLoggedIn());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.authService.isLoggedIn())(\"ngIfElse\", loginPrompt_r6);\n  }\n}\nexport class CarDetailComponent {\n  constructor(route, router, carService, cartService, authService) {\n    this.route = route;\n    this.router = router;\n    this.carService = carService;\n    this.cartService = cartService;\n    this.authService = authService;\n    this.quantity = 1;\n    this.isAddingToCart = false;\n  }\n  ngOnInit() {\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    this.loadCarDetails(id);\n  }\n  loadCarDetails(id) {\n    this.carService.getCarById(id).subscribe({\n      next: car => {\n        this.car = car;\n      },\n      error: error => {\n        console.error('Error loading car details:', error);\n      }\n    });\n  }\n  increaseQuantity() {\n    this.quantity++;\n  }\n  decreaseQuantity() {\n    if (this.quantity > 1) {\n      this.quantity--;\n    }\n  }\n  addToCart() {\n    if (!this.car || this.isAddingToCart || !this.authService.isLoggedIn()) return;\n    this.isAddingToCart = true;\n    this.cartService.addToCart(this.car, this.quantity);\n    this.isAddingToCart = false;\n  }\n  navigateToLogin() {\n    this.router.navigate(['/login']);\n  }\n  onImageError(event) {\n    const img = event.target;\n    img.src = 'assets/cars/placeholder.jpg';\n  }\n  static {\n    this.ɵfac = function CarDetailComponent_Factory(t) {\n      return new (t || CarDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.CarService), i0.ɵɵdirectiveInject(i3.CartService), i0.ɵɵdirectiveInject(i4.AuthService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CarDetailComponent,\n      selectors: [[\"app-car-detail\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 1,\n      vars: 1,\n      consts: [[\"loginPrompt\", \"\"], [\"class\", \"car-detail\", 4, \"ngIf\"], [1, \"car-detail\"], [3, \"error\", \"src\", \"alt\"], [1, \"car-info\"], [1, \"description\"], [1, \"price\"], [\"class\", \"quantity-controls\", 4, \"ngIf\"], [\"class\", \"add-to-cart\", 3, \"disabled\", \"click\", 4, \"ngIf\", \"ngIfElse\"], [1, \"quantity-controls\"], [3, \"click\"], [1, \"add-to-cart\", 3, \"click\", \"disabled\"], [1, \"login-prompt\", 3, \"click\"]],\n      template: function CarDetailComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, CarDetailComponent_div_0_Template, 14, 12, \"div\", 1);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.car);\n        }\n      },\n      dependencies: [CommonModule, i5.NgIf, i5.DecimalPipe],\n      styles: [\".car-detail[_ngcontent-%COMP%] {\\n  padding: 2rem;\\n  max-width: 1200px;\\n  margin: 0 auto;\\n}\\n\\nimg[_ngcontent-%COMP%] {\\n  max-width: 100%;\\n  height: auto;\\n  border-radius: 8px;\\n  margin: 1rem 0;\\n}\\n\\n.car-info[_ngcontent-%COMP%] {\\n  margin-top: 2rem;\\n}\\n\\n.description[_ngcontent-%COMP%] {\\n  color: #666;\\n  margin: 1rem 0;\\n}\\n\\n.price[_ngcontent-%COMP%] {\\n  font-size: 1.5rem;\\n  font-weight: bold;\\n  color: #007bff;\\n  margin: 1rem 0;\\n}\\n\\n.quantity-controls[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 1rem;\\n  margin: 1rem 0;\\n}\\n.quantity-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  padding: 0.5rem 1rem;\\n  border: 1px solid #ddd;\\n  background: white;\\n  cursor: pointer;\\n  border-radius: 4px;\\n}\\n.quantity-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n  background: #f5f5f5;\\n}\\n.quantity-controls[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  min-width: 40px;\\n  text-align: center;\\n}\\n\\n.add-to-cart[_ngcontent-%COMP%], .login-prompt[_ngcontent-%COMP%] {\\n  padding: 0.75rem 1.5rem;\\n  background: #007bff;\\n  color: white;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-size: 1rem;\\n  width: 100%;\\n  max-width: 300px;\\n  margin-top: 1rem;\\n}\\n.add-to-cart[_ngcontent-%COMP%]:hover, .login-prompt[_ngcontent-%COMP%]:hover {\\n  background: #0056b3;\\n}\\n.add-to-cart[_ngcontent-%COMP%]:disabled, .login-prompt[_ngcontent-%COMP%]:disabled {\\n  background: #ccc;\\n  cursor: not-allowed;\\n}\\n\\n.login-prompt[_ngcontent-%COMP%] {\\n  background: #6c757d;\\n}\\n.login-prompt[_ngcontent-%COMP%]:hover {\\n  background: #5a6268;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2Fycy9jYXItZGV0YWlsL2Nhci1kZXRhaWwuY29tcG9uZW50LnRzIiwid2VicGFjazovLy4vLi4vLi4vLi4vLi4vYW5ndWxhciUyMHByb2plY3QvY2FyL2Zyb250ZW5kL2Nhci1lY29tbWVyY2UtZnJvbnRlbmQvc3JjL2FwcC9jYXJzL2Nhci1kZXRhaWwvY2FyLWRldGFpbC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDRSxhQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0FDQU47O0FER0k7RUFDRSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtBQ0FOOztBREdJO0VBQ0UsZ0JBQUE7QUNBTjs7QURHSTtFQUNFLFdBQUE7RUFDQSxjQUFBO0FDQU47O0FER0k7RUFDRSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGNBQUE7QUNBTjs7QURHSTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7RUFDQSxjQUFBO0FDQU47QURFTTtFQUNFLG9CQUFBO0VBQ0Esc0JBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtBQ0FSO0FERVE7RUFDRSxtQkFBQTtBQ0FWO0FESU07RUFDRSxlQUFBO0VBQ0Esa0JBQUE7QUNGUjs7QURNSTtFQUNFLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtBQ0hOO0FES007RUFDRSxtQkFBQTtBQ0hSO0FETU07RUFDRSxnQkFBQTtFQUNBLG1CQUFBO0FDSlI7O0FEUUk7RUFDRSxtQkFBQTtBQ0xOO0FET007RUFDRSxtQkFBQTtBQ0xSIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgLmNhci1kZXRhaWwge1xuICAgICAgcGFkZGluZzogMnJlbTtcbiAgICAgIG1heC13aWR0aDogMTIwMHB4O1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgfVxuXG4gICAgaW1nIHtcbiAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogYXV0bztcbiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgIG1hcmdpbjogMXJlbSAwO1xuICAgIH1cblxuICAgIC5jYXItaW5mbyB7XG4gICAgICBtYXJnaW4tdG9wOiAycmVtO1xuICAgIH1cblxuICAgIC5kZXNjcmlwdGlvbiB7XG4gICAgICBjb2xvcjogIzY2NjtcbiAgICAgIG1hcmdpbjogMXJlbSAwO1xuICAgIH1cblxuICAgIC5wcmljZSB7XG4gICAgICBmb250LXNpemU6IDEuNXJlbTtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgY29sb3I6ICMwMDdiZmY7XG4gICAgICBtYXJnaW46IDFyZW0gMDtcbiAgICB9XG5cbiAgICAucXVhbnRpdHktY29udHJvbHMge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBnYXA6IDFyZW07XG4gICAgICBtYXJnaW46IDFyZW0gMDtcblxuICAgICAgYnV0dG9uIHtcbiAgICAgICAgcGFkZGluZzogMC41cmVtIDFyZW07XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcblxuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjVmNWY1O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNwYW4ge1xuICAgICAgICBtaW4td2lkdGg6IDQwcHg7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAuYWRkLXRvLWNhcnQsIC5sb2dpbi1wcm9tcHQge1xuICAgICAgcGFkZGluZzogMC43NXJlbSAxLjVyZW07XG4gICAgICBiYWNrZ3JvdW5kOiAjMDA3YmZmO1xuICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBtYXgtd2lkdGg6IDMwMHB4O1xuICAgICAgbWFyZ2luLXRvcDogMXJlbTtcblxuICAgICAgJjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6ICMwMDU2YjM7XG4gICAgICB9XG5cbiAgICAgICY6ZGlzYWJsZWQge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjY2NjO1xuICAgICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5sb2dpbi1wcm9tcHQge1xuICAgICAgYmFja2dyb3VuZDogIzZjNzU3ZDtcblxuICAgICAgJjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6ICM1YTYyNjg7XG4gICAgICB9XG4gICAgfVxuICAiLCIuY2FyLWRldGFpbCB7XG4gIHBhZGRpbmc6IDJyZW07XG4gIG1heC13aWR0aDogMTIwMHB4O1xuICBtYXJnaW46IDAgYXV0bztcbn1cblxuaW1nIHtcbiAgbWF4LXdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IGF1dG87XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgbWFyZ2luOiAxcmVtIDA7XG59XG5cbi5jYXItaW5mbyB7XG4gIG1hcmdpbi10b3A6IDJyZW07XG59XG5cbi5kZXNjcmlwdGlvbiB7XG4gIGNvbG9yOiAjNjY2O1xuICBtYXJnaW46IDFyZW0gMDtcbn1cblxuLnByaWNlIHtcbiAgZm9udC1zaXplOiAxLjVyZW07XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogIzAwN2JmZjtcbiAgbWFyZ2luOiAxcmVtIDA7XG59XG5cbi5xdWFudGl0eS1jb250cm9scyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogMXJlbTtcbiAgbWFyZ2luOiAxcmVtIDA7XG59XG4ucXVhbnRpdHktY29udHJvbHMgYnV0dG9uIHtcbiAgcGFkZGluZzogMC41cmVtIDFyZW07XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbn1cbi5xdWFudGl0eS1jb250cm9scyBidXR0b246aG92ZXIge1xuICBiYWNrZ3JvdW5kOiAjZjVmNWY1O1xufVxuLnF1YW50aXR5LWNvbnRyb2xzIHNwYW4ge1xuICBtaW4td2lkdGg6IDQwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmFkZC10by1jYXJ0LCAubG9naW4tcHJvbXB0IHtcbiAgcGFkZGluZzogMC43NXJlbSAxLjVyZW07XG4gIGJhY2tncm91bmQ6ICMwMDdiZmY7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZm9udC1zaXplOiAxcmVtO1xuICB3aWR0aDogMTAwJTtcbiAgbWF4LXdpZHRoOiAzMDBweDtcbiAgbWFyZ2luLXRvcDogMXJlbTtcbn1cbi5hZGQtdG8tY2FydDpob3ZlciwgLmxvZ2luLXByb21wdDpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICMwMDU2YjM7XG59XG4uYWRkLXRvLWNhcnQ6ZGlzYWJsZWQsIC5sb2dpbi1wcm9tcHQ6ZGlzYWJsZWQge1xuICBiYWNrZ3JvdW5kOiAjY2NjO1xuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xufVxuXG4ubG9naW4tcHJvbXB0IHtcbiAgYmFja2dyb3VuZDogIzZjNzU3ZDtcbn1cbi5sb2dpbi1wcm9tcHQ6aG92ZXIge1xuICBiYWNrZ3JvdW5kOiAjNWE2MjY4O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","i0","ɵɵelementStart","ɵɵlistener","CarDetailComponent_div_0_div_10_Template_button_click_1_listener","ɵɵrestoreView","_r3","ctx_r1","ɵɵnextContext","ɵɵresetView","decreaseQuantity","ɵɵtext","ɵɵelementEnd","CarDetailComponent_div_0_div_10_Template_button_click_5_listener","increaseQuantity","ɵɵadvance","ɵɵtextInterpolate","quantity","CarDetailComponent_div_0_button_11_Template_button_click_0_listener","_r4","addToCart","ɵɵproperty","isAddingToCart","authService","isLoggedIn","ɵɵtextInterpolate1","CarDetailComponent_div_0_ng_template_12_Template_button_click_0_listener","_r5","navigateToLogin","CarDetailComponent_div_0_Template_img_error_3_listener","$event","_r1","onImageError","ɵɵtemplate","CarDetailComponent_div_0_div_10_Template","CarDetailComponent_div_0_button_11_Template","CarDetailComponent_div_0_ng_template_12_Template","ɵɵtemplateRefExtractor","ɵɵtextInterpolate2","car","brand","model","imageUrl","ɵɵsanitizeUrl","description","ɵɵpipeBind2","price","loginPrompt_r6","CarDetailComponent","constructor","route","router","carService","cartService","ngOnInit","id","Number","snapshot","paramMap","get","loadCarDetails","getCarById","subscribe","next","error","console","navigate","event","img","target","src","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","CarService","i3","CartService","i4","AuthService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","CarDetailComponent_Template","rf","ctx","CarDetailComponent_div_0_Template","i5","NgIf","DecimalPipe","styles"],"sources":["C:\\angular project\\car\\frontend\\car-ecommerce-frontend\\src\\app\\cars\\car-detail\\car-detail.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { CommonModule, DecimalPipe } from '@angular/common';\nimport { Car } from '../../models/car.model';\nimport { CarService } from '../../services/car.service';\nimport { CartService } from '../../services/cart.service';\nimport { AuthService } from '../../services/auth.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-car-detail',\n  standalone: true,\n  imports: [CommonModule, DecimalPipe],\n  template: `\n    <div class=\"car-detail\" *ngIf=\"car\">\n      <h2>{{car.brand}} {{car.model}}</h2>\n      <img [src]=\"car.imageUrl\" (error)=\"onImageError($event)\" [alt]=\"car.brand + ' ' + car.model\">\n      <div class=\"car-info\">\n        <p class=\"description\">{{car.description}}</p>\n        <p class=\"price\">{{car.price | number:'1.2-2'}} USD</p>\n        <div class=\"quantity-controls\" *ngIf=\"authService.isLoggedIn()\">\n          <button (click)=\"decreaseQuantity()\">-</button>\n          <span>{{quantity}}</span>\n          <button (click)=\"increaseQuantity()\">+</button>\n        </div>\n        <button class=\"add-to-cart\" \n                (click)=\"addToCart()\" \n                [disabled]=\"isAddingToCart || !authService.isLoggedIn()\"\n                *ngIf=\"authService.isLoggedIn(); else loginPrompt\">\n          {{isAddingToCart ? 'Adding...' : 'Add to Cart'}}\n        </button>\n        <ng-template #loginPrompt>\n          <button class=\"login-prompt\" (click)=\"navigateToLogin()\">\n            Login to Add to Cart\n          </button>\n        </ng-template>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .car-detail {\n      padding: 2rem;\n      max-width: 1200px;\n      margin: 0 auto;\n    }\n\n    img {\n      max-width: 100%;\n      height: auto;\n      border-radius: 8px;\n      margin: 1rem 0;\n    }\n\n    .car-info {\n      margin-top: 2rem;\n    }\n\n    .description {\n      color: #666;\n      margin: 1rem 0;\n    }\n\n    .price {\n      font-size: 1.5rem;\n      font-weight: bold;\n      color: #007bff;\n      margin: 1rem 0;\n    }\n\n    .quantity-controls {\n      display: flex;\n      align-items: center;\n      gap: 1rem;\n      margin: 1rem 0;\n\n      button {\n        padding: 0.5rem 1rem;\n        border: 1px solid #ddd;\n        background: white;\n        cursor: pointer;\n        border-radius: 4px;\n\n        &:hover {\n          background: #f5f5f5;\n        }\n      }\n\n      span {\n        min-width: 40px;\n        text-align: center;\n      }\n    }\n\n    .add-to-cart, .login-prompt {\n      padding: 0.75rem 1.5rem;\n      background: #007bff;\n      color: white;\n      border: none;\n      border-radius: 4px;\n      cursor: pointer;\n      font-size: 1rem;\n      width: 100%;\n      max-width: 300px;\n      margin-top: 1rem;\n\n      &:hover {\n        background: #0056b3;\n      }\n\n      &:disabled {\n        background: #ccc;\n        cursor: not-allowed;\n      }\n    }\n\n    .login-prompt {\n      background: #6c757d;\n\n      &:hover {\n        background: #5a6268;\n      }\n    }\n  `]\n})\nexport class CarDetailComponent implements OnInit {\n  car: Car | undefined;\n  quantity: number = 1;\n  isAddingToCart: boolean = false;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private carService: CarService,\n    private cartService: CartService,\n    public authService: AuthService\n  ) {}\n\n  ngOnInit(): void {\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    this.loadCarDetails(id);\n  }\n\n  loadCarDetails(id: number): void {\n    this.carService.getCarById(id).subscribe({\n      next: (car) => {\n        this.car = car;\n      },\n      error: (error) => {\n        console.error('Error loading car details:', error);\n      }\n    });\n  }\n\n  increaseQuantity(): void {\n    this.quantity++;\n  }\n\n  decreaseQuantity(): void {\n    if (this.quantity > 1) {\n      this.quantity--;\n    }\n  }\n\n  addToCart(): void {\n    if (!this.car || this.isAddingToCart || !this.authService.isLoggedIn()) return;\n    \n    this.isAddingToCart = true;\n    this.cartService.addToCart(this.car, this.quantity);\n    this.isAddingToCart = false;\n  }\n\n  navigateToLogin(): void {\n    this.router.navigate(['/login']);\n  }\n\n  onImageError(event: Event): void {\n    const img = event.target as HTMLImageElement;\n    img.src = 'assets/cars/placeholder.jpg';\n  }\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}